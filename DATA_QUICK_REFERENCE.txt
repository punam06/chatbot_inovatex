â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              DATA INVENTORY QUICK REFERENCE CARD                           â•‘
â•‘                    For Feature Implementation                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Œ DATABASE: bubt_hackathon_db (utf8mb4, InnoDB, ACID compliant)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ—‚ï¸  TABLES SUMMARY (5 CORE)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TABLE 1: USERS                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Records: 1 (vegetarian.user@example.com)                               â”‚
â”‚ PK: id (BIGINT AUTO_INCREMENT)                                          â”‚
â”‚ Key Fields:                                                              â”‚
â”‚   â€¢ email (VARCHAR 255, UNIQUE) â€” Login identifier                      â”‚
â”‚   â€¢ password_hash (VARCHAR 255) â€” Hashed with bcrypt in production     â”‚
â”‚   â€¢ full_name (VARCHAR 255) â€” Display name                              â”‚
â”‚   â€¢ household_size (INT, default=1) â€” People count                      â”‚
â”‚   â€¢ dietary_preferences (JSON) â€” ["Vegetarian", "Gluten-Free"]         â”‚
â”‚   â€¢ location (VARCHAR 255) â€” Address/city                               â”‚
â”‚   â€¢ created_at, updated_at (DATETIME auto) â€” Timestamps                 â”‚
â”‚                                                                          â”‚
â”‚ Indexes: email (UNIQUE), created_at                                     â”‚
â”‚ Relations: â†’ inventory (1:N CASCADE), â†’ consumption_logs (1:N CASCADE)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TABLE 2: FOOD_ITEMS (Master Catalog - Pre-loaded)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Records: 8                                                               â”‚
â”‚                                                                          â”‚
â”‚ FOOD ITEMS LIST:                                                        â”‚
â”‚  1. Milk (Dairy) - 7 days - $3.50/liter                                â”‚
â”‚  2. Rice (Grains) - 365 days - $2.00/kg                                â”‚
â”‚  3. Eggs (Protein) - 21 days - $4.50/dozen                             â”‚
â”‚  4. Spinach (Vegetables) - 5 days - $1.50/bunch                        â”‚
â”‚  5. Apples (Fruits) - 14 days - $0.80/piece                            â”‚
â”‚  6. Bread (Grains) - 3 days - $2.50/loaf                               â”‚
â”‚  7. Chicken Breast (Protein) - 2 days - $8.00/kg                       â”‚
â”‚  8. Tomato (Vegetables) - 7 days - $1.20/piece                         â”‚
â”‚                                                                          â”‚
â”‚ Key Fields:                                                              â”‚
â”‚   â€¢ name (VARCHAR 255, UNIQUE) â€” Canonical food name                   â”‚
â”‚   â€¢ category (VARCHAR 100) â€” Dairy, Grains, Vegetables, Fruits, Proteinâ”‚
â”‚   â€¢ default_expiration_days (INT) â€” Shelf life                         â”‚
â”‚   â€¢ average_cost (DECIMAL 10,2) â€” Typical cost                         â”‚
â”‚   â€¢ unit (VARCHAR 50) â€” kg, liter, piece, dozen, bunch, loaf           â”‚
â”‚                                                                          â”‚
â”‚ Indexes: name (UNIQUE), category                                        â”‚
â”‚ Relations: â† inventory (N:1 SET NULL)                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TABLE 3: INVENTORY (User's Food Items - Dynamic)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Records: 4 (sample items for test user)                                â”‚
â”‚                                                                          â”‚
â”‚ SAMPLE ITEMS:                                                           â”‚
â”‚  1. Full Cream Milk - 2.0 liters - expires 2025-11-24                 â”‚
â”‚  2. Fresh Spinach Bunch - 1.0 bunch - expires 2025-11-23               â”‚
â”‚  3. Whole Wheat Bread - 1.0 loaf - expires 2025-11-21                 â”‚
â”‚  4. Red Apples - 5.0 pieces - expires 2025-11-28                       â”‚
â”‚                                                                          â”‚
â”‚ Key Fields:                                                              â”‚
â”‚   â€¢ user_id (BIGINT FKâ†’users CASCADE) â€” Owner                          â”‚
â”‚   â€¢ food_item_id (BIGINT FKâ†’food_items SET NULL) â€” Link to master     â”‚
â”‚   â€¢ custom_name (VARCHAR 255) â€” "Organic Milk", user's label           â”‚
â”‚   â€¢ quantity (DECIMAL 10,2) â€” Current amount                           â”‚
â”‚   â€¢ unit (VARCHAR 50) â€” Unit of measurement                            â”‚
â”‚   â€¢ purchase_date (DATE) â€” When bought â­                               â”‚
â”‚   â€¢ expiration_date (DATE) â€” When expires â­ INDEXED                    â”‚
â”‚   â€¢ source_image_url (VARCHAR 2048) â€” Receipt/food image               â”‚
â”‚   â€¢ ai_metadata (JSON) â€” {brand, ripeness, quality, allergens, storage}â”‚
â”‚   â€¢ created_at, updated_at (DATETIME) â€” Timestamps                     â”‚
â”‚                                                                          â”‚
â”‚ Indexes: user_id âš¡, expiration_date âš¡, food_item_id âš¡, purchase_date âš¡â”‚
â”‚ Relations: â†’ users (N:1), â†’ food_items (N:1)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TABLE 4: CONSUMPTION_LOGS (Audit Trail - Training Data)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Records: 5 (sample actions for test user)                              â”‚
â”‚                                                                          â”‚
â”‚ SAMPLE LOGS:                                                            â”‚
â”‚  1. Spinach - PURCHASED - 1.00 - 2025-11-18                            â”‚
â”‚  2. Milk - PURCHASED - 2.00 - 2025-11-17                               â”‚
â”‚  3. Spinach - CONSUMED - 0.50 - 2025-11-18                             â”‚
â”‚  4. Apples - WASTED - 1.00 - "Got bruised" - 2025-11-16                â”‚
â”‚  5. Bread - PURCHASED - 1.00 - 2025-11-19                              â”‚
â”‚                                                                          â”‚
â”‚ Key Fields:                                                              â”‚
â”‚   â€¢ user_id (BIGINT FKâ†’users CASCADE) â€” Who                            â”‚
â”‚   â€¢ food_name (VARCHAR 255) â€” Snapshot of name at time                 â”‚
â”‚   â€¢ action_type (ENUM) â€” PURCHASED, CONSUMED, WASTED, DONATED         â”‚
â”‚   â€¢ quantity (DECIMAL 10,2) â€” Amount involved                          â”‚
â”‚   â€¢ reason_for_waste (TEXT) â€” Why wasted? (optional)                   â”‚
â”‚   â€¢ log_date (DATETIME, auto NOW()) â€” When action occurred             â”‚
â”‚                                                                          â”‚
â”‚ Indexes: user_id âš¡, log_date âš¡, action_type âš¡, (user_id, log_date) âš¡â”‚
â”‚ Relations: â†’ users (N:1)                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TABLE 5: RESOURCES (Educational Content - Pre-loaded)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Records: 6                                                               â”‚
â”‚                                                                          â”‚
â”‚ RESOURCES:                                                              â”‚
â”‚  1. "How to Store Vegetables Properly" (TIP) - Storage Tips            â”‚
â”‚  2. "Understanding Expiration Dates" (ARTICLE) - Food Safety           â”‚
â”‚  3. "Creative Ways to Use Leftover Vegetables" (VIDEO) - Recipe Ideas  â”‚
â”‚  4. "Meal Planning to Reduce Waste" (ARTICLE) - Meal Planning          â”‚
â”‚  5. "Freezing Guide for Common Foods" (TIP) - Food Preservation        â”‚
â”‚  6. "Composting at Home" (ARTICLE) - Sustainability                    â”‚
â”‚                                                                          â”‚
â”‚ Key Fields:                                                              â”‚
â”‚   â€¢ title (VARCHAR 255) â€” Resource title                               â”‚
â”‚   â€¢ content (LONGTEXT) â€” Full content (markdown OK)                    â”‚
â”‚   â€¢ category_tag (VARCHAR 100) â€” Storage, Recipes, Sustainability     â”‚
â”‚   â€¢ resource_type (ENUM) â€” TIP, ARTICLE, VIDEO                        â”‚
â”‚   â€¢ created_at, updated_at (DATETIME) â€” Timestamps                     â”‚
â”‚                                                                          â”‚
â”‚ Indexes: category_tag âš¡, resource_type âš¡                               â”‚
â”‚ Relations: None (standalone)                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”— RELATIONSHIPS DIAGRAM

  users (1)
    â”‚
    â”œâ”€â”€â†’ (N) inventory â”€â”€â†’ (?) food_items
    â”‚        â””â”€â”€ [JSON] ai_metadata
    â”‚
    â””â”€â”€â†’ (N) consumption_logs
             â””â”€â”€ [ENUM] action_type

  resources (standalone)

  Cascade Rules:
    users â†’ inventory: ON DELETE CASCADE
    users â†’ consumption_logs: ON DELETE CASCADE
    food_items â† inventory: ON DELETE SET NULL

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ ENUMS (Validation)

  action_type (consumption_logs):
    âœ“ PURCHASED     (item bought)
    âœ“ CONSUMED      (item eaten)
    âœ“ WASTED        (item discarded - reason recommended)
    âœ“ DONATED       (item given away)

  resource_type (resources):
    âœ“ TIP           (quick actionable tip, 100-300 words)
    âœ“ ARTICLE       (long-form content, 1000+ words)
    âœ“ VIDEO         (video tutorial)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ‘€ VIEWS (Pre-built Queries)

  VIEW 1: user_consumption_summary
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Columns:
    â€¢ user_id, email, full_name
    â€¢ total_purchased, total_consumed, total_wasted, total_donated
    â€¢ total_waste_qty (sum of wasted quantities)
    â€¢ last_log_date
  
  Use for: Dashboard stats, user analytics, sustainability reports

  VIEW 2: expiring_inventory
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Columns:
    â€¢ id, user_id, email
    â€¢ item_name, food_item_name
    â€¢ quantity, unit, expiration_date
    â€¢ days_until_expiry (calculated)
  
  Filter: WHERE expiration_date <= DATE_ADD(CURDATE(), INTERVAL 7 DAY)
  Use for: Expiration alerts, push notifications, email reminders

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’¾ DATA TYPES (When Creating New Fields)

  Quantities & Costs:     DECIMAL(10,2)       â€” No floating-point errors
  IDs & Counts:          BIGINT UNSIGNED     â€” Supports 18+ billion records
  Dates:                 DATE                â€” YYYY-MM-DD
  Timestamps:            DATETIME            â€” YYYY-MM-DD HH:MM:SS
  Names & Categories:    VARCHAR(255)        â€” 255 character text
  Long Content:          LONGTEXT            â€” 4GB text (markdown, HTML)
  URLs:                  VARCHAR(2048)       â€” 2KB URLs
  Flexible Data:         JSON                â€” Structured data

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸  NOT NULL vs NULLABLE

  REQUIRED (NOT NULL):
    users: id, email, password_hash, household_size
    food_items: id, name
    inventory: id, user_id, quantity
    consumption_logs: id, user_id, action_type, quantity
    resources: id, title, resource_type

  OPTIONAL (NULLABLE):
    users: full_name, dietary_preferences, location
    food_items: category, default_expiration_days, average_cost, unit
    inventory: food_item_id, custom_name, unit, purchase_date, expiration_date, 
               source_image_url, ai_metadata
    consumption_logs: food_name, reason_for_waste
    resources: category_tag, content

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”‘ UNIQUE CONSTRAINTS (Only one per value)

  users.email              â€” Each email registers once
  food_items.name          â€” Each food item is unique

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš¡ INDEXES (Use in WHERE clauses for speed)

  users:               email (UNIQUE), created_at
  food_items:          name (UNIQUE), category
  inventory:           user_id â­, expiration_date â­, food_item_id, purchase_date
  consumption_logs:    user_id â­, log_date â­, action_type, (user_id, log_date)
  resources:           category_tag, resource_type

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ COMMON QUERIES (Copy & Use)

  -- Get user stats
  SELECT * FROM user_consumption_summary WHERE user_id = ?;

  -- Get expiring items
  SELECT * FROM expiring_inventory WHERE user_id = ? ORDER BY days_until_expiry;

  -- Get user inventory
  SELECT i.*, f.category, f.default_expiration_days
  FROM inventory i
  LEFT JOIN food_items f ON i.food_item_id = f.id
  WHERE i.user_id = ?
  ORDER BY i.expiration_date ASC;

  -- Log an action
  INSERT INTO consumption_logs (user_id, food_name, action_type, quantity, reason_for_waste)
  VALUES (?, ?, ?, ?, ?);

  -- Get waste statistics
  SELECT action_type, COUNT(*) as count, SUM(quantity) as total
  FROM consumption_logs
  WHERE user_id = ?
  GROUP BY action_type;

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“± API ENDPOINT TEMPLATE

  Authentication:
    POST   /api/auth/register        â†’ Create user
    POST   /api/auth/login           â†’ Authenticate
    POST   /api/auth/logout          â†’ Sign out

  User Profile:
    GET    /api/users/:id            â†’ Get user
    PUT    /api/users/:id            â†’ Update profile
    DELETE /api/users/:id            â†’ Delete (cascades)

  Inventory:
    GET    /api/inventory            â†’ List user's items
    POST   /api/inventory            â†’ Add item
    PUT    /api/inventory/:id        â†’ Update item
    DELETE /api/inventory/:id        â†’ Remove item

  Consumption:
    POST   /api/consumption/log      â†’ Log action (purchase/consume/waste)
    GET    /api/consumption/history  â†’ Get logs
    GET    /api/consumption/stats    â†’ Get aggregated stats

  Alerts:
    GET    /api/alerts/expiring      â†’ Get expiring items (7 days)
    GET    /api/alerts/waste-summary â†’ Get waste statistics

  Resources:
    GET    /api/resources            â†’ List all resources
    GET    /api/resources?type=TIP   â†’ Filter by type
    GET    /api/resources?category=Storage â†’ Filter by category

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… BEFORE IMPLEMENTING FEATURES

  â–¡ Read DATA_INVENTORY.md (detailed version)
  â–¡ Understand the 5 tables and their purposes
  â–¡ Know the enums (action_type, resource_type)
  â–¡ Use correct data types (DECIMAL, DATETIME, JSON, ENUM)
  â–¡ Respect foreign keys and cascade rules
  â–¡ Query using indexed columns (user_id, expiration_date)
  â–¡ Validate NOT NULL fields before INSERT
  â–¡ Handle NULLABLE fields as optional
  â–¡ Use views for aggregated data (don't recalculate)
  â–¡ Preserve consumption_logs (never delete history)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š DATA STATISTICS

  Total Tables:          5 core + 2 views
  Total Records:         16 (1 user + 8 foods + 4 inventory + 5 logs + 6 resources)
  Total Indexes:         10+
  Total Columns:         42+
  Total JSON Fields:     2 (dietary_preferences, ai_metadata)
  Total Enums:           2 (action_type, resource_type)
  Foreign Keys:          4
  Cascade Relations:     2 (users â†’ inventory, users â†’ consumption_logs)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ” SECURITY REMINDERS

  âœ— Never send password_hash to frontend
  âœ— Never expose api_metadata without authorization
  âœ— Always validate user_id matches authenticated user
  âœ— Never allow negative quantities
  âœ— Always hash passwords before INSERT
  âœ— Never commit .env with credentials
  âœ— Use prepared statements to prevent SQL injection
  âœ“ Validate email format before INSERT
  âœ“ Validate enum values (only PURCHASED, CONSUMED, WASTED, DONATED)
  âœ“ Validate dates are logical (expiration > purchase)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ QUICK REFERENCE LINKS

  Detailed Docs:        DATA_INVENTORY.md (this project)
  Schema Definition:    prisma/schema.prisma or sql/core_schema.sql
  Sample Data:          sql/seed_data.sql
  Validation Script:    sql/smoke_test.sql
  Setup Guide:          sql/SETUP.md

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Status: âœ… Ready for Feature Development

Generated: November 2025
Version: 1.0

